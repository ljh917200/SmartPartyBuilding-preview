import{h as it,D as ue,r as g,n as Me,G as dt,B as D,N as rt,O as ot,c,a as s,w as d,b as I,o as r,f as o,g as _,s as xe,M as mt,k as B,j as P,p as Be,P as ut,t as m,F as T,i as b,I as ct,Q as pt,q as Ne,R as ce,d as ft,z as Ce,_ as _t}from"./index-G-qDTFo-.js";const ht={class:"container"},gt={style:{display:"flex","flex-wrap":"wrap",gap:"15px","flex-grow":"1"}},yt={class:"table-wrapper"},Et={key:0,style:{"margin-top":"8px"}},It={style:{"font-size":"12px",color:"#909399","margin-bottom":"5px"}},vt={style:{display:"flex","flex-wrap":"wrap",gap:"5px","max-height":"80px","overflow-y":"auto"}},Tt={class:"card-header"},bt={class:"detail-content"},Dt={class:"detail-section"},Mt={class:"detail-section"},xt={key:0,class:"detail-section"},Bt={class:"question-header"},Nt={class:"question-number"},Ct={class:"question-options"},Pt={key:1,class:"detail-section"},kt={class:"question-header"},wt={class:"question-number"},qt={class:"question-options"},Vt={key:2,class:"detail-section"},Rt={class:"question-header"},jt={class:"question-number"},At={key:3,class:"detail-section"},zt={class:"question-header"},Qt={class:"question-number"},St={key:1},Yt={style:{display:"flex",height:"550px",border:"1px solid #dcdfe6","border-radius":"4px"}},Lt={style:{width:"350px","border-right":"1px solid #dcdfe6","overflow-y":"auto",padding:"10px",background:"#fafafa"}},Ot={style:{display:"flex","align-items":"center",width:"100%",padding:"5px 0"}},Ut=["onClick"],Ht={style:{flex:"1","overflow-y":"auto",padding:"10px"}},$t={key:0,style:{"text-align":"center",color:"#909399",padding:"50px 0"}},Ft={key:1},Jt={style:{display:"flex","align-items":"center","margin-bottom":"15px"}},Xt={style:{"font-weight":"600","font-size":"16px",color:"#303133"}},Gt={style:{display:"flex","flex-wrap":"wrap",gap:"12px"}},Kt={style:{display:"flex","flex-direction":"column"}},Wt={style:{"font-weight":"500",color:"#303133"}},Zt={key:0,style:{color:"#909399","font-size":"12px","margin-top":"2px"}},ea={key:0,style:{"margin-top":"15px",padding:"15px",background:"#f0f9ff","border-radius":"4px",border:"1px solid #b3d8ff"}},ta={style:{"font-weight":"600","margin-bottom":"10px",color:"#303133"}},aa={style:{display:"flex","flex-wrap":"wrap",gap:"8px"}},na={key:0,style:{color:"#909399","margin-left":"5px"}},sa={style:{display:"flex","justify-content":"space-between","align-items":"center"}},la={style:{color:"#909399","font-size":"14px"}},ia={style:{color:"#409eff"}},da=it({__name:"index",setup(ra){const pe=(t,e)=>{if(t.id===e)return t;if(t.children)for(const i of t.children){const l=pe(i,e);if(l)return l}return null},y=ue({userId:"",examinationName:"",startTimeStart:"",startTimeEnd:"",endTimeStart:"",endTimeEnd:""}),O=g(["",""]),U=g(["",""]);Me(O,t=>{y.startTimeStart=t[0]||"",y.startTimeEnd=t[1]||""},{deep:!0}),Me(U,t=>{y.endTimeStart=t[0]||"",y.endTimeEnd=t[1]||""},{deep:!0});const H=g([]),fe=g(0),se=g(!1),j=g(1),$=g(10);dt(()=>{R(),We()});const Pe=ft(),_e=()=>Object.values(y).some(t=>typeof t=="string"&&t.trim()!==""),R=async()=>{se.value=!0;try{const t={page:j.value,pageSize:$.value,...y};Object.entries(t).forEach(([u,p])=>{(p===""||p===void 0||p===null)&&delete t[u]});let i=[{id:"EXAM_001",examinationName:"å…¥å…šç§¯æåˆ†å­è€ƒè¯•",questionQuantity:"1",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 11:00:00",updateTime:"2025-05-25 17:25:06"},{id:"EXAM_002",examinationName:"é¢„å¤‡å…šå‘˜è€ƒè¯•",questionQuantity:"9",startTime:"2023-10-20 09:00:00",endTime:"2023-10-20 11:00:00",updateTime:"2025-05-25 17:25:06"},{id:"e73dd052dbd26ef944b2465cc46c958d",examinationName:"asdfas",questionQuantity:"6",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 11:00:00",updateTime:"2025-07-25 10:09:44"},{id:"6684d2c42d51dffaecf2303fa155bd2d",examinationName:"asdfas",questionQuantity:"7",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 11:00:00",updateTime:"2025-07-25 10:12:07"},{id:"1b12800ea3b8d3c5bcc4472e6a3bad83",examinationName:"asdfas",questionQuantity:"7",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 11:00:00",updateTime:"2025-07-25 10:17:24"}];y.examinationName&&(i=i.filter(u=>u.examinationName.includes(y.examinationName))),y.startTimeStart&&(i=i.filter(u=>u.startTime>=y.startTimeStart)),y.startTimeEnd&&(i=i.filter(u=>u.startTime<=y.startTimeEnd)),y.endTimeStart&&(i=i.filter(u=>u.endTime>=y.endTimeStart)),y.endTimeEnd&&(i=i.filter(u=>u.endTime<=y.endTimeEnd));const l={code:1,msg:"success",data:{total:i.length,records:i}};l.code===1&&(H.value=l.data.records||[],fe.value=l.data.total||0,_e()&&H.value.length===0&&D.warning("æœªæŸ¥åˆ°ç›¸å…³è€ƒè¯•ä¿¡æ¯"))}catch(t){console.error("è·å–è€ƒè¯•åˆ—è¡¨å¤±è´¥:",t)}finally{se.value=!1}},ke=t=>{j.value=t,R()},we=t=>{$.value=t,j.value=1,R()},qe=async()=>{try{const t={code:1,msg:"success",data:[{id:"DEPT_001",departmentName:"å­¦ç”Ÿä¼š",fatherDepartmentId:"-1",hasChildren:!0,isLeaf:!1,memberCount:0,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_002",departmentName:"æŠ€æœ¯éƒ¨",fatherDepartmentId:"-1",hasChildren:!0,isLeaf:!1,memberCount:0,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_003",departmentName:"äººäº‹éƒ¨",fatherDepartmentId:"-1",hasChildren:!1,isLeaf:!0,memberCount:5,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_004",departmentName:"å®£ä¼ éƒ¨",fatherDepartmentId:"-1",hasChildren:!0,isLeaf:!1,memberCount:0,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_005",departmentName:"ç»„ç»‡éƒ¨",fatherDepartmentId:"-1",hasChildren:!1,isLeaf:!0,memberCount:8,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_006",departmentName:"è´¢åŠ¡éƒ¨",fatherDepartmentId:"-1",hasChildren:!1,isLeaf:!0,memberCount:6,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"}]};t.code===1&&t.data&&(w.value=t.data.map(e=>({...e,children:[],loading:!1,expanded:!1})))}catch(t){console.error("è·å–éƒ¨é—¨åˆ—è¡¨å¤±è´¥:",t),D.error("è·å–éƒ¨é—¨åˆ—è¡¨å¤±è´¥")}},he=async(t,e)=>{try{const l={code:1,msg:"success",data:{DEPT_001:[{id:"DEPT_001_001",departmentName:"å­¦ä¹ éƒ¨",fatherDepartmentId:"DEPT_001",hasChildren:!1,isLeaf:!0,memberCount:3,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_001_002",departmentName:"æ–‡è‰ºéƒ¨",fatherDepartmentId:"DEPT_001",hasChildren:!1,isLeaf:!0,memberCount:4,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_001_003",departmentName:"ä½“è‚²éƒ¨",fatherDepartmentId:"DEPT_001",hasChildren:!1,isLeaf:!0,memberCount:5,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"}],DEPT_002:[{id:"DEPT_002_001",departmentName:"å‰ç«¯ç»„",fatherDepartmentId:"DEPT_002",hasChildren:!1,isLeaf:!0,memberCount:5,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_002_002",departmentName:"åç«¯ç»„",fatherDepartmentId:"DEPT_002",hasChildren:!1,isLeaf:!0,memberCount:6,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_002_003",departmentName:"æµ‹è¯•ç»„",fatherDepartmentId:"DEPT_002",hasChildren:!1,isLeaf:!0,memberCount:4,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_002_004",departmentName:"è¿ç»´ç»„",fatherDepartmentId:"DEPT_002",hasChildren:!1,isLeaf:!0,memberCount:3,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"}],DEPT_004:[{id:"DEPT_004_001",departmentName:"æ–°åª’ä½“ç»„",fatherDepartmentId:"DEPT_004",hasChildren:!1,isLeaf:!0,memberCount:6,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"},{id:"DEPT_004_002",departmentName:"ä¼ ç»Ÿåª’ä½“ç»„",fatherDepartmentId:"DEPT_004",hasChildren:!1,isLeaf:!0,memberCount:5,createBy:"ADMIN",createTime:"2025-05-25 17:15:53",updateBy:"ADMIN",updateTime:"2025-05-25 17:15:53"}]}[t]||[]};l.code===1&&l.data&&(e.children=l.data.map(u=>({...u,children:[],loading:!1,expanded:!1})))}catch(i){console.error("è·å–å­éƒ¨é—¨åˆ—è¡¨å¤±è´¥:",i),D.error("è·å–å­éƒ¨é—¨åˆ—è¡¨å¤±è´¥")}},le=async t=>{var e;if(!N.value[t]){de.value[t]=!0;try{const i={DEPT_001_001:[{id:"MEMBER_001",memberName:"å¼ ä¸‰",departmentId:"DEPT_001_001",username:"zhangsan",name:"å¼ ä¸‰"},{id:"MEMBER_002",memberName:"æå››",departmentId:"DEPT_001_001",username:"lisi",name:"æå››"},{id:"MEMBER_003",memberName:"ç‹äº”",departmentId:"DEPT_001_001",username:"wangwu",name:"ç‹äº”"}],DEPT_001_002:[{id:"MEMBER_004",memberName:"èµµå…­",departmentId:"DEPT_001_002",username:"zhaoliu",name:"èµµå…­"},{id:"MEMBER_005",memberName:"é’±ä¸ƒ",departmentId:"DEPT_001_002",username:"qianqi",name:"é’±ä¸ƒ"},{id:"MEMBER_006",memberName:"å­™å…«",departmentId:"DEPT_001_002",username:"sunba",name:"å­™å…«"},{id:"MEMBER_007",memberName:"å‘¨ä¹",departmentId:"DEPT_001_002",username:"zhoujiu",name:"å‘¨ä¹"}],DEPT_001_003:[{id:"MEMBER_008",memberName:"å´å",departmentId:"DEPT_001_003",username:"wushi",name:"å´å"},{id:"MEMBER_009",memberName:"éƒ‘ä¸€",departmentId:"DEPT_001_003",username:"zhengyi",name:"éƒ‘ä¸€"},{id:"MEMBER_010",memberName:"ç‹äºŒ",departmentId:"DEPT_001_003",username:"wanger",name:"ç‹äºŒ"},{id:"MEMBER_011",memberName:"æä¸‰",departmentId:"DEPT_001_003",username:"lisan",name:"æä¸‰"},{id:"MEMBER_012",memberName:"å¼ å››",departmentId:"DEPT_001_003",username:"zhangsi",name:"å¼ å››"}],DEPT_002_001:[{id:"MEMBER_013",memberName:"åˆ˜äº”",departmentId:"DEPT_002_001",username:"liuwu",name:"åˆ˜äº”"},{id:"MEMBER_014",memberName:"é™ˆå…­",departmentId:"DEPT_002_001",username:"chenliu",name:"é™ˆå…­"},{id:"MEMBER_015",memberName:"æ¨ä¸ƒ",departmentId:"DEPT_002_001",username:"yangqi",name:"æ¨ä¸ƒ"},{id:"MEMBER_016",memberName:"é»„å…«",departmentId:"DEPT_002_001",username:"huangba",name:"é»„å…«"},{id:"MEMBER_017",memberName:"å‘¨ä¹",departmentId:"DEPT_002_001",username:"zhoujiu2",name:"å‘¨ä¹"}],DEPT_002_002:[{id:"MEMBER_018",memberName:"å´å",departmentId:"DEPT_002_002",username:"wushi2",name:"å´å"},{id:"MEMBER_019",memberName:"å¾ä¸€",departmentId:"DEPT_002_002",username:"xuyi",name:"å¾ä¸€"},{id:"MEMBER_020",memberName:"æœ±äºŒ",departmentId:"DEPT_002_002",username:"zhuer",name:"æœ±äºŒ"},{id:"MEMBER_021",memberName:"ç§¦ä¸‰",departmentId:"DEPT_002_002",username:"qinsan",name:"ç§¦ä¸‰"},{id:"MEMBER_022",memberName:"å°¤å››",departmentId:"DEPT_002_002",username:"yousi",name:"å°¤å››"},{id:"MEMBER_023",memberName:"è®¸äº”",departmentId:"DEPT_002_002",username:"xuwu",name:"è®¸äº”"}],DEPT_002_003:[{id:"MEMBER_024",memberName:"ä½•å…­",departmentId:"DEPT_002_003",username:"heliu",name:"ä½•å…­"},{id:"MEMBER_025",memberName:"å•ä¸ƒ",departmentId:"DEPT_002_003",username:"lvqi",name:"å•ä¸ƒ"},{id:"MEMBER_026",memberName:"æ–½å…«",departmentId:"DEPT_002_003",username:"shiba",name:"æ–½å…«"},{id:"MEMBER_027",memberName:"å¼ ä¹",departmentId:"DEPT_002_003",username:"zhangjiu",name:"å¼ ä¹"}],DEPT_002_004:[{id:"MEMBER_028",memberName:"å­”å",departmentId:"DEPT_002_004",username:"kongshi",name:"å­”å"},{id:"MEMBER_029",memberName:"æ›¹ä¸€",departmentId:"DEPT_002_004",username:"caoyi",name:"æ›¹ä¸€"},{id:"MEMBER_030",memberName:"ä¸¥äºŒ",departmentId:"DEPT_002_004",username:"yaner",name:"ä¸¥äºŒ"}],DEPT_003:[{id:"MEMBER_031",memberName:"åä¸‰",departmentId:"DEPT_003",username:"huasan",name:"åä¸‰"},{id:"MEMBER_032",memberName:"é‡‘å››",departmentId:"DEPT_003",username:"jinsi",name:"é‡‘å››"},{id:"MEMBER_033",memberName:"é­äº”",departmentId:"DEPT_003",username:"weiwu",name:"é­äº”"},{id:"MEMBER_034",memberName:"é™¶å…­",departmentId:"DEPT_003",username:"taoliu",name:"é™¶å…­"},{id:"MEMBER_035",memberName:"å§œä¸ƒ",departmentId:"DEPT_003",username:"jiangqi",name:"å§œä¸ƒ"}],DEPT_004_001:[{id:"MEMBER_036",memberName:"æˆšå…«",departmentId:"DEPT_004_001",username:"qiba",name:"æˆšå…«"},{id:"MEMBER_037",memberName:"è°¢ä¹",departmentId:"DEPT_004_001",username:"xiejiu",name:"è°¢ä¹"},{id:"MEMBER_038",memberName:"é‚¹å",departmentId:"DEPT_004_001",username:"zoushi",name:"é‚¹å"},{id:"MEMBER_039",memberName:"å–»ä¸€",departmentId:"DEPT_004_001",username:"yuyi",name:"å–»ä¸€"},{id:"MEMBER_040",memberName:"æŸäºŒ",departmentId:"DEPT_004_001",username:"baier",name:"æŸäºŒ"},{id:"MEMBER_041",memberName:"æ°´ä¸‰",departmentId:"DEPT_004_001",username:"shuisan",name:"æ°´ä¸‰"}],DEPT_004_002:[{id:"MEMBER_042",memberName:"çª¦å››",departmentId:"DEPT_004_002",username:"dousi",name:"çª¦å››"},{id:"MEMBER_043",memberName:"ç« äº”",departmentId:"DEPT_004_002",username:"zhangwu",name:"ç« äº”"},{id:"MEMBER_044",memberName:"äº‘å…­",departmentId:"DEPT_004_002",username:"yunliu",name:"äº‘å…­"},{id:"MEMBER_045",memberName:"è‹ä¸ƒ",departmentId:"DEPT_004_002",username:"suqi",name:"è‹ä¸ƒ"},{id:"MEMBER_046",memberName:"æ½˜å…«",departmentId:"DEPT_004_002",username:"panba",name:"æ½˜å…«"}],DEPT_005:[{id:"MEMBER_047",memberName:"è‘›ä¹",departmentId:"DEPT_005",username:"gejiu",name:"è‘›ä¹"},{id:"MEMBER_048",memberName:"å¥šå",departmentId:"DEPT_005",username:"xishi",name:"å¥šå"},{id:"MEMBER_049",memberName:"èŒƒä¸€",departmentId:"DEPT_005",username:"fanyi",name:"èŒƒä¸€"},{id:"MEMBER_050",memberName:"å½­äºŒ",departmentId:"DEPT_005",username:"penger",name:"å½­äºŒ"},{id:"MEMBER_051",memberName:"éƒä¸‰",departmentId:"DEPT_005",username:"langsan",name:"éƒä¸‰"},{id:"MEMBER_052",memberName:"é²å››",departmentId:"DEPT_005",username:"lusi",name:"é²å››"},{id:"MEMBER_053",memberName:"éŸ¦äº”",departmentId:"DEPT_005",username:"weiwu",name:"éŸ¦äº”"},{id:"MEMBER_054",memberName:"æ˜Œå…­",departmentId:"DEPT_005",username:"changliu",name:"æ˜Œå…­"}],DEPT_006:[{id:"MEMBER_055",memberName:"é©¬ä¸ƒ",departmentId:"DEPT_006",username:"maqi",name:"é©¬ä¸ƒ"},{id:"MEMBER_056",memberName:"è‹—å…«",departmentId:"DEPT_006",username:"miaoba",name:"è‹—å…«"},{id:"MEMBER_057",memberName:"å‡¤ä¹",departmentId:"DEPT_006",username:"fengjiu",name:"å‡¤ä¹"},{id:"MEMBER_058",memberName:"èŠ±å",departmentId:"DEPT_006",username:"huashi",name:"èŠ±å"},{id:"MEMBER_059",memberName:"æ–¹ä¸€",departmentId:"DEPT_006",username:"fangyi",name:"æ–¹ä¸€"},{id:"MEMBER_060",memberName:"ä¿äºŒ",departmentId:"DEPT_006",username:"yuer",name:"ä¿äºŒ"}]},l={code:1,msg:"success",data:{total:((e=i[t])==null?void 0:e.length)||0,records:i[t]||[]}};l.code===1&&l.data&&l.data.records&&(N.value[t]=l.data.records)}catch(i){console.error("è·å–éƒ¨é—¨æˆå‘˜åˆ—è¡¨å¤±è´¥:",i),D.error("è·å–éƒ¨é—¨æˆå‘˜åˆ—è¡¨å¤±è´¥")}finally{de.value[t]=!1}}},Ve=async t=>{t.expanded||(t.loading=!0,t.expanded=!0,t.hasChildren&&!t.isLeaf&&await he(t.id,t),t.isLeaf&&await le(t.id),t.loading=!1)},Re=t=>{t.expanded=!1},F=t=>{const e=[],i=Q(w.value,t);if(i&&i.isLeaf&&N.value[t]&&e.push(...N.value[t].map(l=>l.id)),i&&i.children)for(const l of i.children)e.push(...F(l.id));return e},Q=(t,e)=>{for(const i of t){if(i.id===e)return i;if(i.children){const l=Q(i.children,e);if(l)return l}}return null},J=async(t,e)=>{const i=Q(w.value,t);if(i)if(e){await ie(i);const l=F(t);v.value=[...new Set([...v.value,...l])],k.value.push(t),M.value[t]={type:"department",name:i.departmentName,ids:l}}else{const l=F(t);v.value=v.value.filter(u=>!l.includes(u)),k.value=k.value.filter(u=>u!==t),delete M.value[t]}},ie=async t=>{if(t.isLeaf&&await le(t.id),t.hasChildren&&t.children&&t.children.length>0)for(const e of t.children)await ie(e);else if(t.hasChildren&&(!t.children||t.children.length===0)&&(await he(t.id,t),t.children&&t.children.length>0))for(const e of t.children)await ie(e)},ge=(t,e,i)=>{if(i)v.value.push(t),M.value[t]={type:"member",name:e,ids:[t]};else{v.value=v.value.filter(u=>u!==t),delete M.value[t];const l=Object.values(N.value).flat().find(u=>u.id===t);if(l){const u=l.departmentId;Q(w.value,u)&&k.value.includes(u)&&(F(u).some(C=>v.value.includes(C)&&!M.value[C])||J(u,!1))}}},je=async()=>{S.value=!0;const t=Array.isArray(n.userIds)?n.userIds:n.userIds?n.userIds.split(",").filter(e=>e.trim()):[];v.value=[...t],k.value=[],M.value={},w.value.length===0&&await qe(),await Ae()},Ae=async()=>{const t=new Set;for(const e of v.value)for(const[i,l]of Object.entries(N.value))if(l.find(p=>p.id===e)){t.add(i);break}for(const e of t)N.value[e]||await le(e);for(const[e,i]of Object.entries(N.value)){const l=i.map(p=>p.id);if(l.filter(p=>v.value.includes(p)).length===l.length&&l.length>0){const p=Q(w.value,e);if(p&&!k.value.includes(e)){k.value.push(e),M.value[e]={type:"department",name:p.departmentName,ids:l};for(const L of l)delete M.value[L]}}else for(const p of i)v.value.includes(p.id)&&!k.value.includes(e)&&(M.value[p.id]={type:"member",name:p.memberName||p.name||`ç”¨æˆ·${p.id}`,ids:[p.id]})}},ze=()=>{n.userIds=v.value,S.value=!1},Qe=()=>{const t=X();return t.length===0?"":t.join("ã€")},X=()=>{const t=[];if(Object.keys(M.value).length>0)for(const e of Object.values(M.value))e.type==="department"?t.push(`${e.name}ï¼ˆéƒ¨é—¨ï¼‰`):t.push(e.name);else{const e=Array.isArray(n.userIds)?n.userIds:n.userIds?n.userIds.split(",").filter(i=>i.trim()):[];for(const i of e){const l=Object.values(N.value).flat().find(u=>u.id===i);l?t.push(l.memberName||l.name||`ç”¨æˆ·${i}`):t.push(`ç”¨æˆ·${i}`)}}return t},ye=()=>Array.isArray(n.userIds)?n.userIds.length:typeof n.userIds=="string"&&n.userIds.trim()?n.userIds.split(",").filter(t=>t.trim()).length:0,Se=async()=>{var t;await Le(),n.singleChoiceIds?n.singleChoiceIds=n.singleChoiceIds.split(",").join(","):n.singleChoiceIds="",n.multipleChoiceIds?n.multipleChoiceIds=n.multipleChoiceIds.split(",").join(","):n.multipleChoiceIds="",n.judgeIds?n.judgeIds=n.judgeIds.split(",").join(","):n.judgeIds="",n.fillBlankIds?n.fillBlankIds=n.fillBlankIds.split(",").join(","):n.fillBlankIds="",A.value=!0,Object.assign(n,{id:"",examinationName:"",userIds:[],scoreValue:"",singleChoiceIds:"",multipleChoiceIds:"",judgeIds:"",fillBlankIds:"",examinationInstruction:"",startTime:"",endTime:""}),await Ne(),(t=re.value)==null||t.clearValidate(),G.value=JSON.parse(JSON.stringify(ce(n)))},Ye=()=>{Pe.push("/addExamPaper")},A=g(!1);g([]);const w=g([]),N=g({}),de=g({}),S=g(!1),v=g([]),k=g([]),M=g({}),x=ue({singleChoice:g([]),multipleChoice:g([]),judge:g([]),fillBlank:g([])}),Le=async()=>{try{const t={code:1,msg:"success",data:{total:2,records:[{id:"1",type:"1",question:"å…šçš„æœ€é«˜ç†æƒ³å’Œæœ€ç»ˆç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"2",type:"1",question:"ä¸­å›½å…±äº§å…šçš„å®—æ—¨æ˜¯ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"}]}};t.code===1&&t.data&&t.data.records&&(x.singleChoice=t.data.records);const e={code:1,msg:"success",data:{total:2,records:[{id:"3",type:"2",question:"ä¸­å›½å…±äº§å…šçš„è¡ŒåŠ¨æŒ‡å—åŒ…æ‹¬å“ªäº›ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"4",type:"2",question:"å…šå‘˜çš„åŸºæœ¬ä¹‰åŠ¡åŒ…æ‹¬å“ªäº›ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"}]}};e.code===1&&e.data&&e.data.records&&(x.multipleChoice=e.data.records);const i={code:1,msg:"success",data:{total:2,records:[{id:"5",type:"3",question:"ä¸­å›½å…±äº§å…šæˆç«‹äº1921å¹´ã€‚",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"6",type:"3",question:"æ”¹é©å¼€æ”¾æ˜¯ä¸­å›½çš„åŸºæœ¬å›½ç­–ã€‚",isChoose:1,updateTime:"2025-05-25 17:24:54"}]}};i.code===1&&i.data&&i.data.records&&(x.judge=i.data.records);const l={code:1,msg:"success",data:{total:2,records:[{id:"7",type:"4",question:"ä¸­å›½å…±äº§å…šæˆç«‹äºå“ªä¸€å¹´ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"8",type:"4",question:"å…šçš„æ ¹æœ¬å®—æ—¨æ˜¯______ã€‚",isChoose:1,updateTime:"2025-05-25 17:24:54"}]}};l.code===1&&l.data&&l.data.records&&(x.fillBlank=l.data.records)}catch(t){console.error("è·å–é¢˜ç›®åˆ—è¡¨å¤±è´¥:",t),x.singleChoice=[{id:"1",type:"1",question:"å…šçš„æœ€é«˜ç†æƒ³å’Œæœ€ç»ˆç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"2",type:"1",question:"ä¸­å›½å…±äº§å…šçš„å®—æ—¨æ˜¯ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"}],x.multipleChoice=[{id:"3",type:"2",question:"ä¸­å›½å…±äº§å…šçš„è¡ŒåŠ¨æŒ‡å—åŒ…æ‹¬å“ªäº›ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"4",type:"2",question:"å…šå‘˜çš„åŸºæœ¬ä¹‰åŠ¡åŒ…æ‹¬å“ªäº›ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"}],x.judge=[{id:"5",type:"3",question:"ä¸­å›½å…±äº§å…šæˆç«‹äº1921å¹´ã€‚",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"6",type:"3",question:"æ”¹é©å¼€æ”¾æ˜¯ä¸­å›½çš„åŸºæœ¬å›½ç­–ã€‚",isChoose:1,updateTime:"2025-05-25 17:24:54"}],x.fillBlank=[{id:"7",type:"4",question:"ä¸­å›½å…±äº§å…šæˆç«‹äºå“ªä¸€å¹´ï¼Ÿ",isChoose:1,updateTime:"2025-05-25 17:24:54"},{id:"8",type:"4",question:"å…šçš„æ ¹æœ¬å®—æ—¨æ˜¯______ã€‚",isChoose:1,updateTime:"2025-05-25 17:24:54"}]}},n=ue({id:"",examinationName:"",userIds:[],scoreValue:"",singleChoiceIds:"",multipleChoiceIds:"",judgeIds:"",fillBlankIds:"",examinationInstruction:"",startTime:"",endTime:""}),re=g(),G=g(null),K=g([]),Ee=async t=>{try{({code:null,msg:null,data:null}).code==1,K.value=[],await R()}catch(e){console.error("åˆ é™¤å¤±è´¥:",e),D.error("åˆ é™¤å¤±è´¥")}},Oe=async()=>{if(K.value.length===0){D.warning("è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„è€ƒè¯•");return}Ce.confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„${K.value.length}æ¡è€ƒè¯•è®°å½•å—ï¼Ÿ`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{Ee(K.value)}).catch(()=>{})},Ue=t=>{Ce.confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡è€ƒè¯•è®°å½•å—ï¼Ÿ","åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{Ee()}).catch(()=>{})},He=async t=>{var e;Object.assign(n,{id:t.id,examinationName:"",userIds:[],scoreValue:"",singleChoiceIds:"",multipleChoiceIds:"",judgeIds:"",fillBlankIds:"",examinationInstruction:"",startTime:"",endTime:""}),A.value=!0,await Ne(),(e=re.value)==null||e.clearValidate(),Z.value=!0;try{const i={code:1,msg:"sucess",data:{examinationName:"å…¥å…šç§¯æåˆ†å­è€ƒè¯•",userNames:"æå››",scoreValue:"20,30,10,40",singleChoiceIds:"QB_002",multipleChoiceIds:"QB_003,QB_004,QB_009",judgeIds:"QB_005,QB_006",fillBlankIds:"QB_007,QB_010",examinationInstruction:"è¯·è®¤çœŸç­”é¢˜",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 11:00:00",updateName:"ç‹äº”",updateTime:"2025-05-25 17:25:06"}};if(i.code===1){const l=i.data;Object.assign(n,{id:t.id,examinationName:l.examinationName,userIds:[],scoreValue:l.scoreValue,singleChoiceIds:l.singleChoiceIds,multipleChoiceIds:l.multipleChoiceIds,judgeIds:l.judgeIds,fillBlankIds:l.fillBlankIds,examinationInstruction:l.examinationInstruction,startTime:l.startTime,endTime:l.endTime}),G.value=JSON.parse(JSON.stringify(ce(n)))}}catch(i){console.error("è·å–è€ƒè¯•è¯¦æƒ…å¤±è´¥:",i),D.error("è·å–è€ƒè¯•è¯¦æƒ…å¤±è´¥")}finally{Z.value=!1}},W=g(!1),h=g(null),Z=g(!1),$e=async t=>{Z.value=!0;try{const e={code:1,msg:"sucess",data:{examinationName:"å…¥å…šç§¯æåˆ†å­è€ƒè¯•",userNames:"æå››",scoreValue:"20,30,10,40",singleChoiceIds:"QB_002",multipleChoiceIds:"QB_003,QB_004,QB_009",judgeIds:"QB_005,QB_006",fillBlankIds:"QB_007,QB_010",singleChoice:[{id:"QB_002",question:"å…šçš„æœ€é«˜ç†æƒ³å’Œæœ€ç»ˆç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ",questionOption:["1. å®ç°ç¤¾ä¼šä¸»ä¹‰","2. å®ç°å…±äº§ä¸»ä¹‰","3. å®ç°å…±åŒå¯Œè£•","4. å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´"]}],multipleChoice:[{id:"QB_003",question:"ä»¥ä¸‹å“ªäº›æ˜¯å…šå‘˜çš„ä¹‰åŠ¡ï¼Ÿ",questionOption:["1. è®¤çœŸå­¦ä¹ å…šçš„ç†è®º","2. è´¯å½»å…šçš„åŸºæœ¬è·¯çº¿","3. åšæŒå…šå’Œäººæ°‘åˆ©ç›Šé«˜äºä¸€åˆ‡","4. è‡ªè§‰éµå®ˆå…šçš„çºªå¾‹"]},{id:"QB_004",question:"å…šçš„çºªå¾‹å¤„åˆ†æœ‰å“ªäº›ï¼Ÿ",questionOption:["1. è­¦å‘Š","2. ä¸¥é‡è­¦å‘Š","3. æ’¤é”€å…šå†…èŒåŠ¡","4. ç•™å…šå¯Ÿçœ‹","5. å¼€é™¤å…šç±"]},{id:"QB_009",question:"ä»¥ä¸‹å“ªäº›å±äºå…šçš„ä¸‰å¤§ä½œé£ï¼Ÿ",questionOption:["1. ç†è®ºè”ç³»å®é™…","2. è‰°è‹¦å¥‹æ–—","3. å¯†åˆ‡è”ç³»ç¾¤ä¼—","4. æ‰¹è¯„ä¸è‡ªæˆ‘æ‰¹è¯„"]}],judge:[{id:"QB_005",question:"é¢„å¤‡å…šå‘˜æ²¡æœ‰è¡¨å†³æƒã€é€‰ä¸¾æƒå’Œè¢«é€‰ä¸¾æƒã€‚"},{id:"QB_006",question:"å…šçš„å…¨å›½ä»£è¡¨å¤§ä¼šæ¯å››å¹´ä¸¾è¡Œä¸€æ¬¡ã€‚"}],fillBlank:[{id:"QB_007",question:"å…¥å…šèª“è¯çš„æœ€åä¸€å¥æ˜¯_______ã€‚"},{id:"QB_010",question:"å‘å±•å…šå‘˜ï¼Œå¿…é¡»æŠŠ_______æ”¾åœ¨é¦–ä½ã€‚"}],examinationInstruction:"è¯·è®¤çœŸç­”é¢˜",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 11:00:00",updateName:"ç‹äº”",updateTime:"2025-05-25 17:25:06"}};e.code===1&&(h.value=e.data,W.value=!0)}catch(e){console.error("è·å–è€ƒè¯•è¯¦æƒ…å¤±è´¥:",e),D.error("è·å–è€ƒè¯•è¯¦æƒ…å¤±è´¥")}finally{Z.value=!1}},Fe=()=>{W.value=!1,h.value=null},Je=()=>{j.value=1,R()},Xe=()=>{Object.entries(y).forEach(([t])=>{y[t]=""}),O.value=["",""],U.value=["",""],j.value=1,R()},Ie=()=>{const t=Array.isArray(n.userIds)?n.userIds:n.userIds?n.userIds.split(",").filter(e=>e.trim()):[];return n.examinationName.trim()!==""&&t.length>0&&n.scoreValue.trim()!==""&&n.singleChoiceIds.trim()!==""&&n.multipleChoiceIds.trim()!==""&&n.judgeIds.trim()!==""&&n.fillBlankIds.trim()!==""&&n.examinationInstruction.trim()!==""&&n.startTime!==""&&n.endTime!==""},Ge=()=>G.value?JSON.stringify(ce(n))!==JSON.stringify(G.value):!1,Ke=async()=>{if(!Ie()){D.warning("è¯·å¡«å†™æ‰€æœ‰è¡¨å•é¡¹");return}try{if(n.id){if(!Ge()){D.info("æœªåšä»»ä½•ä¿®æ”¹");return}const t={...n};t.userIds=Array.isArray(n.userIds)?n.userIds.join(","):n.userIds;const e={code:null,msg:null,data:null};D.success("æ›´æ–°æˆåŠŸ"),A.value=!1,await R()}else{const t={...n};t.userIds=Array.isArray(n.userIds)?n.userIds.join(","):n.userIds,Array.isArray(n.singleChoiceIds)&&(t.singleChoiceIds=n.singleChoiceIds.join(",")),Array.isArray(n.multipleChoiceIds)&&(t.multipleChoiceIds=n.multipleChoiceIds.join(",")),Array.isArray(n.judgeIds)&&(t.judgeIds=n.judgeIds.join(",")),Array.isArray(n.fillBlankIds)&&(t.fillBlankIds=n.fillBlankIds.join(",")),{code:1,msg:"success",data:null}.code===1&&(D.success("æ·»åŠ æˆåŠŸ"),A.value=!1,R())}}catch(t){console.error("æäº¤å¤±è´¥:",t),D.error("æäº¤å¤±è´¥")}},Y=new Map,We=()=>{setInterval(()=>{Ze()},3e4)},Ze=()=>{H.value.forEach(t=>{if(!Y.has(t.id)){const e=new Date(t.startTime).getTime(),i=e-60*1e3,l=Date.now();if(l<i){const u=setTimeout(()=>{ve(t.id),Y.delete(t.id)},i-l);Y.set(t.id,u)}else l>=i&&l<e&&ve(t.id)}})},ve=async t=>{try{const e=await et(t);if(e&&e.userIds&&e.userIds.length>0){const i=await rt({url:"/study/paper/add",method:"post",headers:{"Content-Type":"application/json"},data:{ids:e.userIds.join(","),examinationInformationId:t}});i.data.code===1?console.log(`è€ƒè¯• ${t} çš„è€ƒå·åˆ›å»ºæˆåŠŸ`):console.error(`è€ƒè¯• ${t} çš„è€ƒå·åˆ›å»ºå¤±è´¥:`,i.data.msg)}}catch(e){console.error(`è€ƒè¯• ${t} çš„è€ƒå·åˆ›å»ºè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:`,e)}},et=async t=>{try{const e={code:1,msg:"success",data:{examinationName:"å…¥å…šç§¯æåˆ†å­è€ƒè¯•",userIds:["1001","1002","1003"],userNames:"å¼ ä¸‰,æå››,ç‹äº”",scoreValue:"20,30,10,40",singleChoiceIds:"QB_002",multipleChoiceIds:"QB_003,QB_004,QB_009",judgeIds:"QB_005,QB_006",fillBlankIds:"QB_007,QB_010",examinationInstruction:"è¯·è®¤çœŸç­”é¢˜",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 11:00:00",updateName:"ç®¡ç†å‘˜",updateTime:"2025-05-25 17:25:06"}};if(e.code===1)return e.data}catch(e){return console.error("è·å–è€ƒè¯•è¯¦æƒ…å¤±è´¥:",e),null}};return ot(()=>{Y.forEach(t=>{clearTimeout(t)}),Y.clear()}),(t,e)=>{const i=I("el-input"),l=I("el-form-item"),u=I("el-date-picker"),p=I("el-button"),L=I("el-form"),ee=I("el-card"),C=I("el-table-column"),tt=I("el-table"),at=I("el-pagination"),Te=I("el-icon"),q=I("el-tag"),te=I("el-option"),ae=I("el-select"),oe=I("el-dialog"),z=I("el-descriptions-item"),be=I("el-descriptions"),nt=I("el-skeleton"),me=I("el-checkbox"),st=I("el-tree"),lt=I("el-empty"),De=mt("loading");return r(),c("div",ht,[s(ee,null,{default:d(()=>[s(L,{inline:!0,class:"form",size:"small",style:{display:"flex","flex-wrap":"wrap","align-items":"flex-end","margin-bottom":"15px"}},{default:d(()=>[o("div",gt,[s(l,{label:"ç”¨æˆ·ID"},{default:d(()=>[s(i,{modelValue:y.userId,"onUpdate:modelValue":e[0]||(e[0]=a=>y.userId=a),placeholder:"è¯·è¾“å…¥ç”¨æˆ·ID",clearable:"",style:{width:"240px",height:"30px"}},null,8,["modelValue"])]),_:1}),s(l,{label:"è€ƒè¯•åç§°"},{default:d(()=>[s(i,{modelValue:y.examinationName,"onUpdate:modelValue":e[1]||(e[1]=a=>y.examinationName=a),placeholder:"è¯·è¾“å…¥è€ƒè¯•åç§°",clearable:"",style:{width:"240px",height:"30px"}},null,8,["modelValue"])]),_:1})]),s(l,{label:"å¼€å§‹æ—¶é—´èŒƒå›´"},{default:d(()=>[s(u,{modelValue:O.value,"onUpdate:modelValue":e[2]||(e[2]=a=>O.value=a),type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ","value-format":"YYYY-MM-DD HH:mm:ss",format:"YYYY-MM-DD HH:mm:ss",style:{width:"320px",height:"30px"}},null,8,["modelValue"])]),_:1}),s(l,{label:"ç»“æŸæ—¶é—´èŒƒå›´"},{default:d(()=>[s(u,{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=a=>U.value=a),type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ","value-format":"YYYY-MM-DD HH:mm:ss",format:"YYYY-MM-DD HH:mm:ss",style:{width:"320px",height:"30px"}},null,8,["modelValue"])]),_:1}),s(l,null,{default:d(()=>[s(p,{type:"primary",size:"default",disabled:!_e(),onClick:Je,icon:"Search"},{default:d(()=>[...e[21]||(e[21]=[_("æœç´¢",-1)])]),_:1},8,["disabled"]),s(p,{size:"default",onClick:Xe,icon:"Refresh"},{default:d(()=>[...e[22]||(e[22]=[_("é‡ç½®",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),s(ee,{style:{"margin-top":"10px"}},{default:d(()=>[s(p,{type:"primary",size:"default",icon:"Plus",onClick:Se},{default:d(()=>[...e[23]||(e[23]=[_("æ·»åŠ è€ƒè¯•",-1)])]),_:1}),s(p,{type:"danger",size:"default",icon:"Delete",onClick:Oe},{default:d(()=>[...e[24]||(e[24]=[_("æ‰¹é‡åˆ é™¤",-1)])]),_:1}),s(p,{size:"default",onClick:Ye},{default:d(()=>[...e[25]||(e[25]=[_("æ–°å¢è€ƒå·",-1)])]),_:1}),o("div",yt,[xe((r(),B(tt,{data:H.value,border:"",stripe:"",width:"100%",fit:""},{default:d(()=>[s(C,{type:"selection",width:"55",fixed:"left"}),s(C,{type:"index",align:"center",label:"åºå·",fixed:"left",width:"80px"}),s(C,{label:"è€ƒè¯•åç§°",align:"center","show-overflow-tooltip":"",prop:"examinationName"}),s(C,{label:"é¢˜ç›®æ•°é‡",align:"center",prop:"questionQuantity"}),s(C,{label:"å¼€å§‹æ—¶é—´",align:"center","show-overflow-tooltip":"",prop:"startTime"}),s(C,{label:"ç»“æŸæ—¶é—´",align:"center","show-overflow-tooltip":"",prop:"endTime"}),s(C,{label:"æ›´æ–°æ—¶é—´",align:"center","show-overflow-tooltip":"",prop:"updateTime"}),s(C,{label:"æ“ä½œ",width:"250",fixed:"right"},{default:d(({row:a})=>[s(p,{type:"primary",size:"small",plain:"",icon:"Edit",onClick:f=>He(a)},{default:d(()=>[...e[26]||(e[26]=[_("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),s(p,{type:"success",size:"small",plain:"",icon:"View",onClick:f=>$e(a.id)},{default:d(()=>[...e[27]||(e[27]=[_("è¯¦æƒ…",-1)])]),_:1},8,["onClick"]),s(p,{type:"danger",size:"small",plain:"",icon:"Delete",onClick:f=>Ue(a.id)},{default:d(()=>[...e[28]||(e[28]=[_("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[De,se.value]])]),s(at,{"page-sizes":[10,20,30,40],background:!0,layout:" prev, pager, next, jumper,->,sizes,total",total:fe.value,"current-page":j.value,"onUpdate:currentPage":e[4]||(e[4]=a=>j.value=a),"page-size":$.value,"onUpdate:pageSize":e[5]||(e[5]=a=>$.value=a),onCurrentChange:ke,onSizeChange:we},null,8,["total","current-page","page-size"])]),_:1}),s(oe,{modelValue:A.value,"onUpdate:modelValue":e[16]||(e[16]=a=>A.value=a),title:n.id?"ç¼–è¾‘è€ƒè¯•":"æ·»åŠ è€ƒè¯•",width:"600px"},{footer:d(()=>[s(p,{onClick:e[15]||(e[15]=a=>A.value=!1)},{default:d(()=>[...e[29]||(e[29]=[_("å–æ¶ˆ",-1)])]),_:1}),s(p,{type:"primary",disabled:!Ie(),onClick:Ke},{default:d(()=>[...e[30]||(e[30]=[_("ç¡®å®š",-1)])]),_:1},8,["disabled"])]),default:d(()=>[s(L,{model:n,"label-width":"100px",ref_key:"examForm",ref:re},{default:d(()=>[s(l,{label:"è€ƒè¯•åç§°",prop:"examinationName"},{default:d(()=>[s(i,{modelValue:n.examinationName,"onUpdate:modelValue":e[6]||(e[6]=a=>n.examinationName=a),placeholder:"è¯·è¾“å…¥è€ƒè¯•åç§°"},null,8,["modelValue"])]),_:1}),s(l,{label:"é€‰æ‹©ç”¨æˆ·",prop:"userIds"},{default:d(()=>[s(i,{value:Qe(),placeholder:"è¯·é€‰æ‹©å‚ä¸è€ƒè¯•çš„ç”¨æˆ·",readonly:"",style:{width:"100%"},onClick:je},{suffix:d(()=>[s(Te,null,{default:d(()=>[s(Be(ut))]),_:1})]),_:1},8,["value"]),ye()>0?(r(),c("div",Et,[o("div",It," å·²é€‰æ‹© "+m(ye())+" ä½ç”¨æˆ· ",1),o("div",vt,[(r(!0),c(T,null,b(X().slice(0,10),(a,f)=>(r(),B(q,{key:f,size:"small",type:"info",style:{"font-size":"11px"}},{default:d(()=>[_(m(a),1)]),_:2},1024))),128)),X().length>10?(r(),B(q,{key:0,size:"small",type:"info",style:{"font-size":"11px"}},{default:d(()=>[_(" ç­‰"+m(X().length)+"é¡¹... ",1)]),_:1})):P("",!0)])])):P("",!0)]),_:1}),s(l,{label:"é¢˜å‹åˆ†å€¼é›†åˆ",prop:"scoreValue"},{default:d(()=>[s(i,{modelValue:n.scoreValue,"onUpdate:modelValue":e[7]||(e[7]=a=>n.scoreValue=a),placeholder:"è¯·è¾“å…¥å„ç±»é¢˜å‹åˆ†å€¼é›†åˆï¼Œå¦‚ï¼š20,30,10,40"},null,8,["modelValue"])]),_:1}),s(l,{label:"å•é€‰é¢˜",prop:"singleChoiceIds"},{default:d(()=>[s(ae,{modelValue:n.singleChoiceIds,"onUpdate:modelValue":e[8]||(e[8]=a=>n.singleChoiceIds=a),placeholder:"è¯·é€‰æ‹©å•é€‰é¢˜",multiple:"","collapse-tags":"",filterable:""},{default:d(()=>[(r(!0),c(T,null,b(x.singleChoice,a=>(r(),B(te,{key:a.id,label:a.question,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(l,{label:"å¤šé€‰é¢˜",prop:"multipleChoiceIds"},{default:d(()=>[s(ae,{modelValue:n.multipleChoiceIds,"onUpdate:modelValue":e[9]||(e[9]=a=>n.multipleChoiceIds=a),placeholder:"è¯·é€‰æ‹©å¤šé€‰é¢˜",multiple:"","collapse-tags":"",filterable:""},{default:d(()=>[(r(!0),c(T,null,b(x.multipleChoice,a=>(r(),B(te,{key:a.id,label:a.question,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(l,{label:"åˆ¤æ–­é¢˜",prop:"judgeIds"},{default:d(()=>[s(ae,{modelValue:n.judgeIds,"onUpdate:modelValue":e[10]||(e[10]=a=>n.judgeIds=a),placeholder:"è¯·é€‰æ‹©åˆ¤æ–­é¢˜",multiple:"","collapse-tags":"",filterable:""},{default:d(()=>[(r(!0),c(T,null,b(x.judge,a=>(r(),B(te,{key:a.id,label:a.question,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(l,{label:"å¡«ç©ºé¢˜",prop:"fillBlankIds"},{default:d(()=>[s(ae,{modelValue:n.fillBlankIds,"onUpdate:modelValue":e[11]||(e[11]=a=>n.fillBlankIds=a),placeholder:"è¯·é€‰æ‹©å¡«ç©ºé¢˜",multiple:"","collapse-tags":"",filterable:""},{default:d(()=>[(r(!0),c(T,null,b(x.fillBlank,a=>(r(),B(te,{key:a.id,label:a.question,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(l,{label:"è€ƒè¯•è¯´æ˜",prop:"examinationInstruction"},{default:d(()=>[s(i,{modelValue:n.examinationInstruction,"onUpdate:modelValue":e[12]||(e[12]=a=>n.examinationInstruction=a),type:"textarea",placeholder:"è¯·è¾“å…¥è€ƒè¯•è¯´æ˜"},null,8,["modelValue"])]),_:1}),s(l,{label:"è€ƒè¯•å¼€å§‹æ—¶é—´",prop:"startTime"},{default:d(()=>[s(u,{modelValue:n.startTime,"onUpdate:modelValue":e[13]||(e[13]=a=>n.startTime=a),type:"datetime",placeholder:"é€‰æ‹©å¼€å§‹æ—¶é—´","value-format":"YYYY-MM-DD HH:mm:ss",size:"small",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),s(l,{label:"è€ƒè¯•ç»“æŸæ—¶é—´",prop:"endTime"},{default:d(()=>[s(u,{modelValue:n.endTime,"onUpdate:modelValue":e[14]||(e[14]=a=>n.endTime=a),type:"datetime",placeholder:"é€‰æ‹©ç»“æŸæ—¶é—´","value-format":"YYYY-MM-DD HH:mm:ss",size:"small",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(oe,{modelValue:W.value,"onUpdate:modelValue":e[17]||(e[17]=a=>W.value=a),title:"è€ƒè¯•è¯¦æƒ…",width:"800px",onClose:Fe},{default:d(()=>[h.value?(r(),B(ee,{key:0,shadow:"hover",style:{"margin-bottom":"20px"}},{header:d(()=>[o("div",Tt,[o("span",null,m(h.value.examinationName),1)])]),default:d(()=>[o("div",bt,[o("div",Dt,[e[31]||(e[31]=o("h4",null,"åŸºæœ¬ä¿¡æ¯",-1)),s(be,{column:2,border:""},{default:d(()=>[s(z,{label:"å‚ä¸äººå‘˜"},{default:d(()=>[_(m(h.value.userNames),1)]),_:1}),s(z,{label:"è€ƒè¯•è¯´æ˜"},{default:d(()=>[_(m(h.value.examinationInstruction),1)]),_:1}),s(z,{label:"å¼€å§‹æ—¶é—´"},{default:d(()=>[_(m(h.value.startTime),1)]),_:1}),s(z,{label:"ç»“æŸæ—¶é—´"},{default:d(()=>[_(m(h.value.endTime),1)]),_:1}),s(z,{label:"æ›´æ–°äººå‘˜"},{default:d(()=>[_(m(h.value.updateName),1)]),_:1}),s(z,{label:"æ›´æ–°æ—¶é—´"},{default:d(()=>[_(m(h.value.updateTime),1)]),_:1})]),_:1})]),o("div",Mt,[e[32]||(e[32]=o("h4",null,"é¢˜ç›®é…ç½®",-1)),s(be,{column:1,border:""},{default:d(()=>[s(z,{label:"åˆ†å€¼é…ç½®"},{default:d(()=>[_(m(h.value.scoreValue),1)]),_:1})]),_:1})]),h.value.singleChoice&&h.value.singleChoice.length>0?(r(),c("div",xt,[o("h4",null,"å•é€‰é¢˜ï¼ˆ"+m(h.value.singleChoice.length)+"é¢˜ï¼‰",1),(r(!0),c(T,null,b(h.value.singleChoice,(a,f)=>(r(),c("div",{key:a.id,class:"question-item"},[o("div",Bt,[s(q,{type:"primary",size:"small"},{default:d(()=>[_(m(a.id),1)]),_:2},1024),o("span",Nt,m(f+1)+". "+m(a.question),1)]),o("div",Ct,[(r(!0),c(T,null,b(a.questionOption,(V,E)=>(r(),c("div",{key:E,class:"option-item"},m(V),1))),128))])]))),128))])):P("",!0),h.value.multipleChoice&&h.value.multipleChoice.length>0?(r(),c("div",Pt,[o("h4",null,"å¤šé€‰é¢˜ï¼ˆ"+m(h.value.multipleChoice.length)+"é¢˜ï¼‰",1),(r(!0),c(T,null,b(h.value.multipleChoice,(a,f)=>(r(),c("div",{key:a.id,class:"question-item"},[o("div",kt,[s(q,{type:"success",size:"small"},{default:d(()=>[_(m(a.id),1)]),_:2},1024),o("span",wt,m(f+1)+". "+m(a.question),1)]),o("div",qt,[(r(!0),c(T,null,b(a.questionOption,(V,E)=>(r(),c("div",{key:E,class:"option-item"},m(V),1))),128))])]))),128))])):P("",!0),h.value.judge&&h.value.judge.length>0?(r(),c("div",Vt,[o("h4",null,"åˆ¤æ–­é¢˜ï¼ˆ"+m(h.value.judge.length)+"é¢˜ï¼‰",1),(r(!0),c(T,null,b(h.value.judge,(a,f)=>(r(),c("div",{key:a.id,class:"question-item"},[o("div",Rt,[s(q,{type:"warning",size:"small"},{default:d(()=>[_(m(a.id),1)]),_:2},1024),o("span",jt,m(f+1)+". "+m(a.question),1)])]))),128))])):P("",!0),h.value.fillBlank&&h.value.fillBlank.length>0?(r(),c("div",At,[o("h4",null,"å¡«ç©ºé¢˜ï¼ˆ"+m(h.value.fillBlank.length)+"é¢˜ï¼‰",1),(r(!0),c(T,null,b(h.value.fillBlank,(a,f)=>(r(),c("div",{key:a.id,class:"question-item"},[o("div",zt,[s(q,{type:"info",size:"small"},{default:d(()=>[_(m(a.id),1)]),_:2},1024),o("span",Qt,m(f+1)+". "+m(a.question),1)])]))),128))])):P("",!0)])]),_:1})):(r(),c("div",St,[s(nt,{rows:10,animated:""})]))]),_:1},8,["modelValue"]),s(oe,{modelValue:S.value,"onUpdate:modelValue":e[20]||(e[20]=a=>S.value=a),title:"é€‰æ‹©å‚ä¸è€ƒè¯•çš„ç”¨æˆ·",width:"900px"},{footer:d(()=>[o("div",sa,[o("span",la,[e[34]||(e[34]=_(" å·²é€‰æ‹© ",-1)),o("strong",ia,m(v.value.length),1),e[35]||(e[35]=_(" ä½ç”¨æˆ· ",-1))]),o("div",null,[s(p,{onClick:e[19]||(e[19]=a=>S.value=!1)},{default:d(()=>[...e[36]||(e[36]=[_("å–æ¶ˆ",-1)])]),_:1}),s(p,{type:"primary",onClick:ze},{default:d(()=>[...e[37]||(e[37]=[_("ç¡®å®š",-1)])]),_:1})])])]),default:d(()=>[o("div",Yt,[o("div",Lt,[e[33]||(e[33]=o("div",{style:{"margin-bottom":"10px","font-weight":"600",color:"#303133"}},"éƒ¨é—¨åˆ—è¡¨",-1)),s(st,{data:w.value,props:{children:"children",label:"departmentName"},"node-key":"id","expand-on-click-node":!1,"default-expand-all":!1,onNodeExpand:Ve,onNodeCollapse:Re},{default:d(({node:a,data:f})=>[o("div",Ot,[s(me,{"model-value":k.value.includes(f.id),onChange:V=>J(f.id,V),onClick:e[18]||(e[18]=ct(()=>{},["stop"])),style:{"margin-right":"8px"}},null,8,["model-value","onChange"]),o("span",{style:{flex:"1",cursor:"pointer"},onClick:V=>a.expanded?a.collapse():a.expand()},m(f.departmentName),9,Ut),f.memberCount!==void 0&&f.isLeaf?(r(),B(q,{key:0,size:"small",type:"info",style:{"margin-left":"8px"}},{default:d(()=>[_(m(f.memberCount)+"äºº ",1)]),_:2},1024)):P("",!0),f.loading?(r(),B(Te,{key:1,style:{"margin-left":"8px"}},{default:d(()=>[s(Be(pt))]),_:1})):P("",!0)])]),_:1},8,["data"])]),o("div",Ht,[Object.keys(N.value).length===0?(r(),c("div",$t,[s(lt,{description:"è¯·å±•å¼€æœ«çº§éƒ¨é—¨æŸ¥çœ‹æˆå‘˜åˆ—è¡¨","image-size":100})])):(r(),c("div",Ft,[(r(!0),c(T,null,b(N.value,(a,f)=>{var V;return r(),c("div",{key:f,style:{"margin-bottom":"25px",padding:"15px",background:"#f8f9fa","border-radius":"4px"}},[o("div",Jt,[s(me,{"model-value":k.value.includes(f),onChange:E=>J(f,E),style:{"margin-right":"8px"}},null,8,["model-value","onChange"]),o("span",Xt,m(((V=w.value.find(E=>E.id===f))==null?void 0:V.departmentName)||(()=>{for(const E of w.value){const ne=pe(E,f);if(ne)return ne.departmentName}return""})()),1),s(q,{size:"small",type:"info",style:{"margin-left":"10px"}},{default:d(()=>[_(" å…± "+m(a.length)+" äºº ",1)]),_:2},1024)]),xe((r(),c("div",Gt,[(r(!0),c(T,null,b(a,E=>(r(),B(me,{key:E.id,"model-value":v.value.includes(E.id),onChange:ne=>ge(E.id,E.memberName||E.name||`ç”¨æˆ·${E.id}`,ne),style:{width:"220px",padding:"8px",background:"white","border-radius":"4px",border:"1px solid #e4e7ed"}},{default:d(()=>[o("div",Kt,[o("span",Wt,m(E.memberName||E.name),1),E.username?(r(),c("span",Zt," @"+m(E.username),1)):P("",!0)])]),_:2},1032,["model-value","onChange"]))),128))])),[[De,de.value[f]]])])}),128))]))])]),v.value.length>0?(r(),c("div",ea,[o("div",ta," å·²é€‰æ‹©é¡¹ï¼ˆå…± "+m(v.value.length)+" ä½ç”¨æˆ·ï¼‰ï¼š ",1),o("div",aa,[(r(!0),c(T,null,b(M.value,(a,f)=>(r(),B(q,{key:f,type:a.type==="department"?"success":"primary",closable:"",onClose:()=>{a.type==="department"?J(f,!1):ge(f,a.name,!1)},style:{"font-size":"13px",padding:"5px 10px"}},{default:d(()=>[_(m(a.type==="department"?"ğŸ“ ":"ğŸ‘¤ ")+m(a.name)+" ",1),a.type==="department"?(r(),c("span",na," ("+m(a.ids.length)+"äºº) ",1)):P("",!0)]),_:2},1032,["type","onClose"]))),128))])])):P("",!0)]),_:1},8,["modelValue"])])}}}),ma=_t(da,[["__scopeId","data-v-db5e6695"]]);export{ma as default};
